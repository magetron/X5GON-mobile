<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Website Title -->
    <title>Design - Team 4 - X5GON Project Website</title>

    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:600,700" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/fontawesome-all.css" rel="stylesheet">
    <link href="css/swiper.css" rel="stylesheet">
    <link href="css/magnific-popup.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">

    <!-- Favicon  -->
    <link rel="icon" href="images/favicon.png">
</head>

<body data-spy="scroll" data-target=".fixed-top">

    <!-- Preloader -->
    <div class="spinner-wrapper">
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
    <!-- end of preloader -->

    <div id="nav-placeholder"></div>

    <!-- Header -->
    <header id="header" class="ex-header">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Design</h1>
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </header> <!-- end of ex-header -->
    <!-- end of header -->


    <!-- Breadcrumbs -->
    <div class="ex-basic-1">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumbs">
                        <a href="index.html">Intro</a><i class="fa fa-angle-double-right"></i><span>Design</span>
                    </div> <!-- end of breadcrumbs -->
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of ex-basic-1 -->
    <!-- end of breadcrumbs -->

    <div id="architecture" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>System Architecture</h3>
                        <p> This section introduces the design of the mobile application. Generally speaking, this architecture adopts the classic Model-View-Controller (MVC) pattern (Reenskaug and Coplien, 2009). </p>
                        <a class="image-link" href="images/system-arch.png"><img class="img-fluid" src="images/system-arch.png"  alt="alternative"/></a>
                        <p> Models include <code>UserModel</code>, <code>ChannelModel</code> , <code>VideoModel</code>, <code>WikiModel</code> and many others,
                            each holding information and buffered data from X5GON Backend.</p>
                        <p> Data updates are made from <code>ViewControllers</code> to <code>Views</code>.
                        <p> User interactions are captured through <code>GestureRecognisers</code> and <code>Actions</code> in various <code>ViewControllers</code> and then delegate to the <code>MainController</code>.
                        <p> With the main logic implemented in the <code>MainController</code>, it dispatch changes to relevant <code>Models</code>, which will then be reflected in <code>Views</code> eventually.
                        <p> Meanwhile, daemon <code>Refresher</code> workers keep track of the <code>Model</code> changes and update them with the X5Learn backend when suitable. </p>
                        <h4>Reason</h4>
                        <p> Our team adopted the MVC architecture mainly because of its high cohesion and low coupling. We can group sections of similar actions on <code>DataModels</code> together in the <code>MainController</code>, and ensure there is little to no coupling among these three parts. In other words, modifications to views would in no way break our API, and similarly otherwise. This gives us confidence when working on our code and helps us to work together as a team with multiple development branches on the same code base.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="design-principles-patterns" class="tabs ex-basic-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Design Principles and Patterns</h3>
                        <p></p>
                    </div>
                </div>
            </div>
            <div class="row">

                <!-- Tabs Links -->
                <ul class="nav nav-tabs" id="lenoTabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="nav-tab-1" data-toggle="tab" href="#tab-1" role="tab" aria-controls="tab-1" aria-selected="true"><i class="fas fa-book"></i>Design Principles</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="nav-tab-2" data-toggle="tab" href="#tab-2" role="tab" aria-controls="tab-2" aria-selected="false"><i class="fas fa-wrench"></i>Design Patterns</a>
                    </li>
                </ul>
                <!-- end of tabs links -->

                <!-- Tabs Content-->
                <div class="tab-content">

                    <!-- Tab -->
                    <div class="tab-pane fade show active" id="tab-1" role="tabpanel" aria-labelledby="tab-1">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-10 offset-lg-1">
                                    <div class="text-container">
                                        <div class="row list-unstyled">
                                            <h4><i class="fas fa-square"></i> Single Responsibility Principle (DeMarco, 1979) </h4>
                                            <p class="indent">We have made substantial effort to separate responsibility among multiple modules in our application. As an example, we abstracted the reloading and refreshing logic out of all <code>ViewControllers</code> and put them into an <code>Extension</code> named <code>refresher()</code>.</p>
                                            <p class="indent">Refreshing can be done easily with passing lambda or <code>Closures</code> to the extension without any other code needed.</p>
                                            <p class="indent">We find this principle particularly useful as we can maintain a same set of multi-threading strategy and <code>Queue</code> throughout the code base. For a deeper dive into our multi-threading strategy, see <a href="implementation.html#multi-threading">implementation section</a> for more details.</p>
                                            <a class="image-link" href="images/single-responsibility.png"><img class="img-fluid" src="images/single-responsibility.png"  alt="alternative"/></a>
                                            <h4><i class="fas fa-square"></i> Liskov's Substitution Principle (Liskov, 1994)</h4>
                                            <p class="indent">We strictly follow the Open Closed Principle and its extension Liskov's Substitution Principle throughout our <code>DataModels</code>. For instance, models like <code>Videos</code> or <code>PDFs</code> are subtypes of <code>Content</code> and can be substituted seamlessly in the code. This allows us to share multiple properties among the <code>DataModels</code> and eliminate redundancy.</p>
                                            <a class="image-link" href="images/liskov-sub.png"><img class="img-fluid" src="images/liskov-sub.png"  alt="alternative"/></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end of tab-pane -->
                    <!-- end of tab -->

                    <!-- Tab -->
                    <div class="tab-pane fade" id="tab-2" role="tabpanel" aria-labelledby="tab-2">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-10 offset-lg-1">
                                    <div class="text-container">
                                        <div class="row list-unstyled">
                                            <h4><i class="fas fa-square"></i> Prototype Design Pattern (Duell, 1997)</h4>
                                            <p class="indent">Prototype Design Pattern is used in the project on <code>PlayerViewController</code> to ensure single responsibility principle and make different <code>ViewControllers</code> replicas for various Video sessions cleaner. For more information on our <code>playerView</code> implementation, see <a href="implementation.html#playerView">here</a> for details.</p>
                                            <a class="image-link" href="images/prototype-design.png"><img class="img-fluid" src="images/prototype-design.png"  alt="alternative"/></a>
                                            <h4><i class="fas fa-square"></i> Adapter Design Pattern (Freeman et al., 2004)</h4>
                                            <p class="indent">Whilst we are developing our application, the backend from our client is transforming from <code>X5GON</code> to <code>X5Learn</code>, such that we are supporting two back-ends at the same time. Therefore, we utilised the Adapter Design Pattern to make sure our <code>MainController</code> have access to the same set of API at the same time.</p>
                                            <a class="image-link" href="images/adapter-design.png"><img class="img-fluid" src="images/adapter-design.png"  alt="alternative"/></a>
                                            <h4><i class="fas fa-square"></i> Singleton Design Pattern (Gamma et al., 1994)</h4>
                                            <p class="indent"> To ensure that there is only one hefty <code>MainController</code> available globally, we utilised the singleton design pattern. The controller is available globally and statically, and is forbidden be constructed twice throughout the application's lifecycle.</p>
                                            <a class="image-link" href="images/singleton-design.png"><img class="img-fluid" src="images/singleton-design.png"  alt="alternative"/></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end of tab-pane -->
                    <!-- end of tab -->

                </div> <!-- end of tab-content -->
                <!-- end of tabs content -->

            </div> <!-- end of row -->
        </div>
    </div>

    <div id="design-patterns" class="ex-basic-3">

    </div>

    <div id="uml-diagram" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>UML Class Diagram</h3>
                        <p>Click on the diagram below to get a clearer view of the general software design of the application.</p>
                        <a href="images/uml-class-diagram.svg"><img class="img-fluid-svg" src="images/uml-class-diagram.svg"  alt="alternative"/></a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="data-storage" class="ex-basic-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Data Storage and Entity Relations</h3>
                        <p>As a typical client side application, we are only storing limited amount of user and cache data. </p>
                        <p>User token, name and ID information are stored with <code>NSUserDefaults</code> (Apple Developer, 2020b) to ensure data persistence after quitting the application. </p>
                        <p>Videos, audios and PDF contents are only cached and can be retrieved with the <code>CoreData</code> of <code>iOS</code> (Apple Developer, 2020a).</p>
                        <p>See below, an entity diagram, on relations of user and cache data stored. </p>
                        <a class="image-link" href="images/entity-diagram.png"><img class="img-fluid"  src="images/entity-diagram.png"  alt="alternative"/></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="sequence-diagram" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Sequence Diagram</h3>
                        <p> We drew up a sequence diagram to clearly illustrate how a typical user would be able to interact with our application. </p>
                        <p> Click on the diagram below to get a clearer view. </p>
                        <a href="images/sequence-diagram.svg"><img class="img-fluid-svg" src="images/sequence-diagram.svg"  alt="alternative"/></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="app-map" class="ex-basic-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Application Map</h3>
                        <p> We tried to make our application as intuitive as possible so as the user would be easy to navigate around. All views can be divided into <code>NavigationViews</code> and <code>MainViews</code>. </p>
                        <p> <code>NavigationViews</code> are used to navigate users around and incorporating supporting views such as <code>SettingsView</code> and <code>SearchView</code>.</p>
                        <p> <code>MainViews</code> are the core content presenting views and the user profile console.</p>
                        <a class="image-link" href="images/application-map.png"><img class="img-fluid" src="images/application-map.png"  alt="alternative"/></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="requirements-references" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <h3>References</h3>
                <ul class="list-unstyled li-space-lg indent">
                    <li class="media"> <div class="media-body">Apple Developer (2020). Core Data | Apple Developer Documentation. [online] Available at: https://developer.apple.com/documentation/coredata [Accessed 22 Jan. 2020].</div></li><br>
                    <li class="media"> <div class="media-body">Apple Developer (2020). UserDefaults - Foundation | Apple Developer Documentation. [online] Available at: https://developer.apple.com/documentation/foundation/userdefaults [Accessed 22 Mar. 2020].</div></li><br>
                    <li class="media"> <div class="media-body">DeMarco, T., 1979. Structured Analysis And System Specification. Englewood Cliffs, NJ: Yourdon.</div></li><br>
                    <li class="media"> <div class="media-body">Duell, Michael (July 1997). "Non-Software Examples of Design Patterns". Object Magazine. 7 (5): 54. ISSN 1055-3614.</div></li><br>
                    <li class="media"> <div class="media-body">Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides (1994). Design Patterns: Elements of Reusable Object-Oriented Software. Addison Wesley. pp. 97ff. ISBN 0-201-63361-2.</div></li><br>
                    <li class="media"> <div class="media-body">Freeman, Eric; Freeman, Elisabeth; Sierra, Kathy; Bates, Bert (2004). "Head First Design Patterns" (paperback). O'Reilly Media: 244. ISBN 978-0-596-00712-6. OCLC 809772256. Retrieved 2013-04-30.</div></li><br>
                    <li class="media"> <div class="media-body">Liskov, Barbara; Wing, Jeannette (1994-11-01). "A behavioral notion of subtyping". ACM Transactions on Programming Languages and Systems. 16 (6): 1811–1841. doi:10.1145/197320.197383. </div></li><br>
                    <li class="media"> <div class="media-body">Reenskaug, Trygve; Coplien, James O. (20 March 2009). "The DCI Architecture: A New Vision of Object-Oriented Programming". Artima Developer. Archived from the original (html) on 23 March 2009. Retrieved 3 August 2019. "More deeply, the framework exists to separate the representation of information from user interaction." </div></li><br>
                </ul>
            </div> <!-- end of text-container-->
        </div>
    </div>

    <div id="footer-placeholder"></div>


    <!-- Scripts -->
    <script src="js/jquery.min.js"></script> <!-- jQuery for Bootstrap's JavaScript plugins -->
    <script src="js/jquery.magnific-popup.js"></script> <!-- Magnific Popup for lightboxes -->
    <script>
        $(document).ready(function() {
            $('.image-link').magnificPopup({type:'image'});
        });
        $(function(){
            $("#nav-placeholder").load("nav.html");
        });
        $(function(){
            $("#footer-placeholder").load("footer.html");
        });
        $('.image-link').magnificPopup({
            type: 'image',
            mainClass: 'mfp-with-zoom', // this class is for CSS animation below
            image: {
                verticalFit: true
            },
            zoom: {
                enabled: true, // By default it's false, so don't forget to enable it
                duration: 300, // duration of the effect, in milliseconds
                easing: 'ease-in-out', // CSS transition easing function
                // The "opener" function should return the element from which popup will be zoomed in
                // and to which popup will be scaled down
                // By defailt it looks for an image tag:
                opener: function(openerElement) {
                    // openerElement is the element on which popup was initialized, in this case its <a> tag
                    // you don't need to add "opener" option if this code matches your needs, it's defailt one.
                    return openerElement.is('img') ? openerElement : openerElement.find('img');
                }
            }
        });
    </script>
    <script src="js/popper.min.js"></script> <!-- Popper tooltip library for Bootstrap -->
    <script src="js/bootstrap.min.js"></script> <!-- Bootstrap framework -->
    <script src="js/jquery.easing.min.js"></script> <!-- jQuery Easing for smooth scrolling between anchors -->
    <script src="js/swiper.min.js"></script> <!-- Swiper for image and text sliders -->
    <script src="js/morphext.min.js"></script> <!-- Morphtext rotating text in the header -->
    <script src="js/validator.min.js"></script> <!-- Validator.js - Bootstrap plugin that validates forms -->
    <script src="js/scripts.js"></script> <!-- Custom scripts -->
</body>

</html>