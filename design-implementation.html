<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Website Title -->
    <title>Design & Implementation - Team 4 - X5GON Project Website</title>

    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:600,700" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/fontawesome-all.css" rel="stylesheet">
    <link href="css/swiper.css" rel="stylesheet">
    <link href="css/magnific-popup.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">

    <!-- Favicon  -->
    <link rel="icon" href="images/favicon.png">
</head>

<body data-spy="scroll" data-target=".fixed-top">

    <!-- Preloader -->
    <div class="spinner-wrapper">
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
    <!-- end of preloader -->

    <div id="nav-placeholder"></div>

    <!-- Header -->
    <header id="header" class="ex-header">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Design & Implementation</h1>
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </header> <!-- end of ex-header -->
    <!-- end of header -->


    <!-- Breadcrumbs -->
    <div class="ex-basic-1">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumbs">
                        <a href="index.html">Intro</a><i class="fa fa-angle-double-right"></i><span>Design & Implementation</span>
                    </div> <!-- end of breadcrumbs -->
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of ex-basic-1 -->
    <!-- end of breadcrumbs -->

    <div id="main-technologies" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Main Technologies</h3>
                        <p>As shown in our research, we have used <code>Swift</code> as our main language and <code>Xcode</code> and its toolchains as our IDE in our project.</p>
                        <br>
                        <div class="row">
                            <div class="col-lg-6">
                                <img class="img-fluid" src="images/swift.png" alt="alternative">
                            </div>
                            <div class="col-lg-6">
                                <img class="img-fluid" src="images/xcode.png" alt="alternative">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="dependencies" class="ex-basic-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Dependencies & Tools</h3>
                        <p>In the meantime, we also imported some dependencies in our project to help us build, test and validate our project.</p>
                        <br>
                        <div class="row">
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/swiftsoup.png" alt="alternative">
                            </div>
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <h4>SwiftSoup</h4>
                                    <p>SwiftSoup is a pure <code>Swift</code> library, cross-platform (macOS, iOS, tvOS, watchOS and Linux!), for working with real-world HTML. It provides a very convenient API for extracting and manipulating data, using the best of DOM, CSS, and jQuery-like methods.</p>
                                    <p>We are embedding SwiftSoup as a core part of the project to parse HTML sent from the <code>X5Learn</code>
                                        backend. It empowers us to understand the API changes and adapt to it quickly.</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <h4>Jazzy</h4>
                                    <p>Instead of building documentation ourselves, we deployed jazzy, which hooks into <code>Clang</code> and <code>SourceKit</code> to use the AST representation of the code and actual code comments for generating documentation. </p>
                                    <p>Moreover, with the touch of Jazzy templates, the documentation matches the look and feel of Appleâ€™s official reference documentation.</p>
                                </div>
                            </div>
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/jazzy.png" alt="alternative">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/xctest.png" alt="alternative">
                            </div>
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <h4>XCTest</h4>
                                    <p>Since <code>Xcode 5</code>, <code>XCTest</code> framework was introduced to perform unit test and UI Tests for <code>Xcode</code> projects.</p>
                                    <p> Our team took advantage of the built-in fast framework and wrote all of our test logic including unit tests, integration tests and performance tests on this framework, and archived <code>70%</code>+ coverage. This enables us to deliver our product with confidence to our clients.</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <h4>Travis CI</h4>
                                    <p>Travis CI is a hosted continuous integration service used to build and test software projects. </p>
                                    <p>In this project, we followed better <code>CI/CD</code> practices and pipelined our application's building and testing without human intervention. Travis CI consistently delivers build results and enables us to merge Pull Requests with reliable backup.</p>
                                </div>
                            </div>
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/travis-ci.png" alt="alternative">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="architecture" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>System Architecture</h3>
                        <p> This page introduces the design of the mobile application. Generally speaking, this architecture adopts the classic Model-View-Controller (MVC) pattern (Reenskaug and Coplien, 2009). </p>
                        <img class="img-fluid" src="images/system-arch.png"  alt="alternative"/>
                        <p> Models include <code>UserModel</code>, <code>ChannelModel</code> , <code>VideoModel</code>, <code>WikiModel</code> and many others,
                            each holding information and buffered data from X5GON Backend.</p>
                        <p> Data updates are made from <code>ViewControllers</code> to <code>Views</code>.
                        <p> User interactions are captured through <code>GestureRecognisers</code> and <code>Actions</code> in various <code>ViewControllers</code> and then delegate to the <code>MainController</code>.
                        <p> With the main logic implemented in the <code>MainController</code>, it dispatch changes to relevant <code>Models</code>, which will then be reflected in <code>Views</code> eventually.
                        <p> Meanwhile, daemon <code>Refresher</code> workers keep track of the <code>Model</code> changes and update them with the X5Learn backend when suitable. </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="uml-diagram" class="ex-basic-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>UML Class Diagram</h3>
                        <p>Click on the diagram below to get a clearer view of the general software design of the application.</p>
                        <a href="images/uml-class-diagram.svg"><img class="img-fluid-svg" src="images/uml-class-diagram.svg"  alt="alternative"/></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="design-patterns" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Design Patterns</h3>
                        <div class="row list-unstyled">
                            <h4><i class="fas fa-square"></i> Prototype Design Pattern (Duell, 1997)</h4>
                            <p class="indent"> Prototype Design Pattern is used in the project on <code>ViewControllers</code> to ensure single responsibility principle and make <code>ViewControllers</code> replica for different Video sessions more reliable.</p>
                            <h4><i class="fas fa-square"></i> Adapter Design Pattern (Freeman et al., 2004)</h4>
                            <p class="indent"> Adapter Design Pattern is used specifically for user authentication module in the application. When <code>UserModel</code> uses its static method to authenticate with X5GON backend, we provided a specific <code>AuthenticateAdapter</code> layer in case of future variations of authentication methods.</p>
                            <h4><i class="fas fa-square"></i> Builder Design Pattern (Gamma et al., 1994)</h4>
                            <p class="indent"> Builder Design Pattern is used in the project on constructing new <code>UserModel</code>, <code>VideoModel</code> or <code>ChannelModel</code>. Since the models contain a great amount information and cannot be fetched in one attempt, we used <code>VideoBuilder</code> and <code>UserBuilder</code> to store temporarily constructed middle-objects.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="data-storage" class="ex-basic-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Data Storage and Entity Relations</h3>
                        <p>As a typical client side application, we are only storing limited amount of data as <code>cache</code> on the client side. Videos, audios and PDF contents are stored and retrieved with <code>CoreData</code> module of <code>iOS</code> application (Apple Developer, 2020).</p>
                        <p>See below, an local entity diagram, on relations of cache data stored.</p>
                        <a href="images/entity-diagram.svg"><img class="img-fluid-svg" src="images/entity-diagram.svg"  alt="alternative"/></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="sequence-diagram" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Sequence Diagram</h3>
                        <p> We provide a sequence diagram to clearly illustrate how a typical user would be able to interact with our application. </p>
                        <p> Click on the diagram below to get a clearer view. </p>
                        <a href="images/sequence-diagram.svg"><img class="img-fluid-svg" src="images/sequence-diagram.svg"  alt="alternative"/></a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="implementation" class="slider-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="text-container">
                        <h3>Implementation</h3>
                        <p>Since our project is a mobile application, our implementation is heavily <code>View</code> based. Our team decide to present each view class in our application. </p>
                        <br>
                    </div>
                    <!-- Image Slider -->
                    <div class="slider-container">
                        <div class="swiper-container image-slider">
                            <div class="swiper-wrapper">

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/HomeView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/HomeView.png" alt="alternative">
                                        <code>HomeView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/AccountView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/AccountView.png" alt="alternative">
                                        <code>AccountView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/VideoPlayerView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/VideoPlayerView.png" alt="alternative">
                                        <code>PlayerView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/SearchView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/SearchView.png" alt="alternative">
                                        <code>SearchView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/SettingsView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/SettingsView.png" alt="alternative">
                                        <code>SettingsView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/TrendingView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/TrendingView.png" alt="alternative">
                                        <code>TrendingView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/SubscriptionsView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/SubscriptionsView.png" alt="alternative">
                                        <code>SubscribeView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                            </div> <!-- end of swiper-wrapper -->

                            <!-- Add Arrows -->
                            <div class="swiper-button-next"></div>
                            <div class="swiper-button-prev"></div>
                            <!-- end of add arrows -->

                        </div> <!-- end of swiper-container -->
                    </div> <!-- end of slider-container -->
                    <!-- end of image slider -->

                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of slider-2 -->
    <!-- end of screenshots -->


    <div id="implementation-highlights" class="tabs ex-basic-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Implementation Highlights</h3>
                        <p>Since a brief introduction of overall System Architecture can be found <a class="page-scroll turquoise" href="#architecture">above</a>, we provide several highlights that are worth noting at our current development stage.</p>
                    </div>
                </div>
            </div>
            <div class="row">

                <!-- Tabs Links -->
                <ul class="nav nav-tabs" id="lenoTabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="nav-tab-1" data-toggle="tab" href="#tab-1" role="tab" aria-controls="tab-1" aria-selected="true"><i class="fas fa-image"></i>Fast Thumbnail Generation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="nav-tab-2" data-toggle="tab" href="#tab-2" role="tab" aria-controls="tab-2" aria-selected="false"><i class="fas fa-sync"></i>Video Preloading and Async Refreshing</a>
                    </li>
                </ul>
                <!-- end of tabs links -->

                <!-- Tabs Content-->
                <div class="tab-content">

                    <!-- Tab -->
                    <div class="tab-pane fade show active" id="tab-1" role="tabpanel" aria-labelledby="tab-1">
                        <div class="container">
                            <div class="row">

                                <!-- Image Pane -->
                                <div class="col-lg-6">
                                    <img class="img-fluid" src="images/fast-thumbnail-generation.png" alt="alternative">
                                </div>
                                <!-- end of image pane -->

                                <!-- Icon Cards Pane -->
                                <div class="col-lg-6">
                                    <div class="text-area">
                                        <h4>Generate Thumbnails on-the-fly</h4>
                                        <p>
                                           The X5GON backend provides users with videos but not thumbnails or preview methods.
                                            To tackle this issue, we used a <code>DispatchQueue</code> (Apple, 2009) to create a separate <code>Thread</code> that aims to
                                            generate thumbnails by fetching the video image at 1 minute mark, without interfering with user interface on the main thread. </p>
                                        <p>Click on the code below to see an sample of implementation for such methods.</p>
                                        <a class="image-link" href="images/fast-thumbnail-code.png"><img class="img-fluid" src="images/fast-thumbnail-code.png"  alt="alternative"/></a>
                                    </div> <!-- end of text-area -->
                                </div>
                                <!-- end of icon cards pane -->

                            </div> <!-- end of row -->
                        </div> <!-- end of container -->
                    </div> <!-- end of tab-pane -->
                    <!-- end of tab -->

                    <!-- Tab -->
                    <div class="tab-pane fade" id="tab-2" role="tabpanel" aria-labelledby="tab-2">
                        <div class="container">
                            <div class="row">

                                <!-- Text And Icon Cards Area -->
                                <div class="col-lg-6">
                                    <div class="text-area offset-1">
                                        <h4>Load everything behind the scene</h4>
                                        <p> We kept performance in mind since our application is rather network-heavy and requires common re-rendering.
                                            That's the key reason why we load everything behind scene with <code>Apple's Grand Central Dispatch Multi-threading</code> (Apple, 2009) and hint <code>UIView</code> whenever we finish loading
                                            to refresh only bits of <code>Cells</code>. This ensures smallest amount of load on both CPU and GPU on mobile platforms, and of course, greatest responsive from a users' perspective.</p>
                                        <p>Click on the code below to see an sample of implementation for such methods.</p>
                                            <a class="image-link" href="images/async-load-code.png"><img class="img-fluid" src="images/async-load-code.png"  alt="alternative"/></a>
                                    </div> <!-- end of text-area -->
                                </div> <!-- end of col-md-8 -->

                                <!-- Image Pane -->
                                <div class="col-lg-6">
                                    <img class="img-fluid" src="images/async-load.png" alt="alternative">
                                </div>
                                <!-- end of image pane -->

                            </div> <!-- end of row -->
                        </div> <!-- end of container -->
                    </div> <!-- end of tab-pane -->
                    <!-- end of tab -->

                </div> <!-- end of tab-content -->
                <!-- end of tabs content -->

            </div> <!-- end of row -->
        </div>
    </div>

    <div id="requirements-references" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <h3>References</h3>
                <ul class="list-unstyled li-space-lg indent">
                    <li class="media"> <div class="media-body">Apple (2009). Apple Technical Brief on Grand Central Dispatch" (PDF). Archived from the original on September 20, 2009. Retrieved September 12, 2009.</div></li><br>
                    <li class="media"> <div class="media-body">Apple (2020). Core Data | Apple Developer Documentation. [online] Available at: https://developer.apple.com/documentation/coredata [Accessed 22 Jan. 2020].</div></li><br>
                    <li class="meida"> <div class="media-body">Chatbi, Nabil (2020). SwiftSoup, a Swift HTML Parser. [online] Available at: https://github.com/scinfu/SwiftSoup [Accessed 25 Mar. 2020].</div></li>
                    <li class="media"> <div class="media-body">Duell, Michael (July 1997). "Non-Software Examples of Design Patterns". Object Magazine. 7 (5): 54. ISSN 1055-3614.</div></li><br>
                    <li class="media"> <div class="media-body">Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides (1994). Design Patterns: Elements of Reusable Object-Oriented Software. Addison Wesley. pp. 97ff. ISBN 0-201-63361-2.</div></li><br>
                    <li class="media"> <div class="media-body">Freeman, Eric; Freeman, Elisabeth; Sierra, Kathy; Bates, Bert (2004). "Head First Design Patterns" (paperback). O'Reilly Media: 244. ISBN 978-0-596-00712-6. OCLC 809772256. Retrieved 2013-04-30.</div></li><br>
                    <li class="media"> <div class="media-body">Reenskaug, Trygve; Coplien, James O. (20 March 2009). "The DCI Architecture: A New Vision of Object-Oriented Programming". Artima Developer. Archived from the original (html) on 23 March 2009. Retrieved 3 August 2019. "More deeply, the framework exists to separate the representation of information from user interaction." </div></li><br>
                </ul>
            </div> <!-- end of text-container-->
        </div>
    </div>

    <div id="footer-placeholder"></div>


    <!-- Scripts -->
    <script src="js/jquery.min.js"></script> <!-- jQuery for Bootstrap's JavaScript plugins -->
    <script src="js/jquery.magnific-popup.js"></script> <!-- Magnific Popup for lightboxes -->
    <script>
        $(document).ready(function() {
            $('.image-link').magnificPopup({type:'image'});
        });
        $(function(){
            $("#nav-placeholder").load("nav.html");
        });
        $(function(){
            $("#footer-placeholder").load("footer.html");
        });
        $('.image-link').magnificPopup({
            type: 'image',
            mainClass: 'mfp-with-zoom', // this class is for CSS animation below
            image: {
                verticalFit: true
            },
            zoom: {
                enabled: true, // By default it's false, so don't forget to enable it
                duration: 300, // duration of the effect, in milliseconds
                easing: 'ease-in-out', // CSS transition easing function
                // The "opener" function should return the element from which popup will be zoomed in
                // and to which popup will be scaled down
                // By defailt it looks for an image tag:
                opener: function(openerElement) {
                    // openerElement is the element on which popup was initialized, in this case its <a> tag
                    // you don't need to add "opener" option if this code matches your needs, it's defailt one.
                    return openerElement.is('img') ? openerElement : openerElement.find('img');
                }
            }
        });
    </script>
    <script src="js/popper.min.js"></script> <!-- Popper tooltip library for Bootstrap -->
    <script src="js/bootstrap.min.js"></script> <!-- Bootstrap framework -->
    <script src="js/jquery.easing.min.js"></script> <!-- jQuery Easing for smooth scrolling between anchors -->
    <script src="js/swiper.min.js"></script> <!-- Swiper for image and text sliders -->
    <script src="js/morphext.min.js"></script> <!-- Morphtext rotating text in the header -->
    <script src="js/validator.min.js"></script> <!-- Validator.js - Bootstrap plugin that validates forms -->
    <script src="js/scripts.js"></script> <!-- Custom scripts -->
</body>

</html>