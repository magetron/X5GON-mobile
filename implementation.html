<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Website Title -->
    <title>Implementation - Team 4 - X5GON Project Website</title>

    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:600,700" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/fontawesome-all.css" rel="stylesheet">
    <link href="css/swiper.css" rel="stylesheet">
    <link href="css/magnific-popup.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">

    <!-- Favicon  -->
    <link rel="icon" href="images/favicon.png">
</head>

<body data-spy="scroll" data-target=".fixed-top">

    <!-- Preloader -->
    <div class="spinner-wrapper">
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
    <!-- end of preloader -->

    <div id="nav-placeholder"></div>

    <!-- Header -->
    <header id="header" class="ex-header">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Implementation</h1>
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </header> <!-- end of ex-header -->
    <!-- end of header -->


    <!-- Breadcrumbs -->
    <div class="ex-basic-1">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumbs">
                        <a href="index.html">Intro</a><i class="fa fa-angle-double-right"></i><span>Implementation</span>
                    </div> <!-- end of breadcrumbs -->
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of ex-basic-1 -->
    <!-- end of breadcrumbs -->

    <div id="main-technologies" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Main Technologies</h3>
                        <p>As shown in our research, we have used <code>Swift</code> as our main language and <code>Xcode</code> and its toolchains as our IDE in our project.</p>
                        <br>
                        <div class="row">
                            <div class="col-lg-6">
                                <img class="img-fluid" src="images/swift.png" alt="alternative">
                            </div>
                            <div class="col-lg-6">
                                <img class="img-fluid" src="images/xcode.png" alt="alternative">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="dependencies" class="ex-basic-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Dependencies & Tools</h3>
                        <p>In the meantime, we also imported some dependencies in our project to help us build, test and validate our project.</p>
                        <br>
                        <div class="row">
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/swiftsoup.png" alt="alternative">
                            </div>
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <h4>SwiftSoup</h4>
                                    <p>SwiftSoup is a pure <code>Swift</code> library, cross-platform (macOS, iOS, tvOS, watchOS and Linux!), for working with real-world HTML. It provides a very convenient API for extracting and manipulating data, using the best of DOM, CSS, and jQuery-like methods (Chatbi, 2020).</p>
                                    <p>We are embedding SwiftSoup as a core part of the project to parse HTML sent from the <code>X5Learn</code>
                                        backend. It empowers us to understand the API changes and adapt to it quickly.</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <h4>JGProgressHUD</h4>
                                    <p>JGProgressHUD is an elegant and simple progress HUD for iOS and tvOS (Gessner, 2020).</p>
                                    <p>We adopt JGProgressHUD heavily in our user-friendly design and refreshing aspect of our application. We utilise this library in all main <code>refresher()</code> to clearly show the loading progress of our application and keep user informed of what the application is doing on the backend.</p>
                                </div>
                            </div>
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/jgprogress.gif" alt="alternative">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/jazzy.png" alt="alternative">
                            </div>
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <h4>Jazzy</h4>
                                    <p>Instead of building documentation ourselves, we deployed jazzy, which hooks into <code>Clang</code> and <code>SourceKit</code> to use the AST representation of the code and actual code comments for generating documentation (realm/jazzy, 2020). </p>
                                    <p>Moreover, with the touch of Jazzy templates, the documentation matches the look and feel of Appleâ€™s official reference documentation.</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <h4>XCTest</h4>
                                    <p>Since <code>Xcode 5</code>, <code>XCTest</code> framework was introduced to perform unit test and UI Tests for <code>Xcode</code> projects (XCTest, 2020).</p>
                                    <p> Our team took advantage of the built-in fast framework and wrote all of our test logic including unit tests, integration tests and performance tests on this framework, and archived <code>90%</code>+ coverage. This enables us to deliver our product with confidence to our clients.</p>
                                </div>
                            </div>
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/xctest.png" alt="alternative">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/swiftformat.png" alt="alternative">
                            </div>
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <h4>SwiftFormat</h4>
                                    <p>SwiftFormat is a code library and command-line tool for reformatting swift code on macOS or Linux (Lockwood, 2020).</p>
                                    <p>Our team was faced with the problem that coding styles are different between the 2 of us. Therefore, we decided to use code linter and formatter to make sure our code compilers and adheres to a good tidy standard in general. </p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <h4>Travis CI</h4>
                                    <p>Travis CI is a hosted continuous integration service used to build and test software projects (Travis-CI, 2020). </p>
                                    <p>In this project, we followed better <code>CI/CD</code> practices and pipelined our application's building and testing without human intervention. Travis CI consistently delivers build results and enables us to merge Pull Requests with reliable backup.</p>
                                </div>
                            </div>
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/travis-ci.png" alt="alternative">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="multi-threading" class="tabs ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Multi-threading and Task Queue Implementation</h3>
                        <p>Our project at its core is a mobile content application with relatively heavy network load as fetching videos, pdfs, wikichunk data from numerous APIs and sources is embedded in almost every user interaction.</p>
                        <div class="row">
                            <div class="col-lg-5">
                                <img class="img-fluid" src="images/loading.png" alt="alternative">
                            </div>
                            <div class="col-lg-7">
                                <div class="text-container">
                                    <br><br>
                                    <p> As demonstrated on the left, the loading process typically involves async-ly conducting network requests, retrieving data and then presenting them on the UI interface with a <code>reloadData()</code> called for a <code>TableView</code> or a <code>CollectionView</code>. </p>
                                    <p> This poses a significant issue when multiple tasks are dispatched to another Thread and not cancellable afterwards. For example, user opens up <code>Video A</code>, and the application dispatches <code>fetchVideo()</code>, <code>fetchSuggestedContents()</code> and <code>fetchWikiChunk()</code> to another thread for async execution, and of course, a <code>reloadData()</code> on UI for the main thread. </p>
                                    <p> To gain a general understanding of how this would typically work, see the <code>refresher</code> below for reference.</p>
                                </div>
                            </div>
                        </div>
                        <img class="img-fluid" src="images/refresher.png" alt="alternative">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="text-container">
                                    <p> Following up on the previous example, a user would possibly quit <code>Video A</code> before all contents finish loading and quickly open up <code>Video B</code>, or he might repeat it several times to open up couple of other contents. </p>
                                    <p> The traditional async loading strategy would cause a problem here not only as the <code>fetch...()</code> function stacking up slows the overall network connection, more so as the many awaiting <code>reloadData()</code> calls would block the main thread from doing its UI related work and causing significant lags.</p>
                                    <p> Our team then came up with a solution to possibly <code>cancel()</code> some not so useful tasks, e.g. <code>Video A</code>'s task when user is actually looking at another video.</p>
                                </div>
                            </div>
                        </div>
                        <img class="img-fluid" src="images/cancellable-refresher.png" alt="alternative">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="text-container">
                                    <p> Our first attempt is to build a custom <code>OperationQueue()</code> that takes in tasks through the <code>MainController.Queue</code> and manage them from there. However, this is a right step towards our final solution, but not good enough.</p>
                                    <p> The backend from our client is responding to queries with an average of more than 10 seconds, and during that time you would not have access to the <code>dataTask</code> as it is on a daemon thread. This would still cause resource leaks and uncontrollable tasks if we only stop here, and experiment does show an alleviation of the problem above but not solving it straight-up.
                                        Therefore, as a follow up, we rewrote part of the <code>dataTask</code> logic and use a <code>FetchSwitch</code> and a <code>DispatchSemaphore</code> to capture the "out-of-control" tasks.</p>
                                </div>
                                <img class="img-fluid" src="images/queue-fetch-switch.png" alt="alternative">
                                <img class="img-fluid" src="images/fetch-switch-injection.png" alt="alternative">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="text-container">
                                    <p> With a lambda or <code>Closure</code> injection shown above, we are able to regain control of the <code>dataTask</code> and rank, update or cancel them accordingly. More so, we internally rank tasks with a max-heap to make sure we are always dealing with the most crucial task at hand in the application.</p>
                                    <p> Now, <code>ViewControllers</code> would be able to notify the <code>MainController</code> of the changes and make <code>OperationTask</code> queueing much more efficient. We followed the Open Closed Principle and exposed easy-to-use <code>Queue</code> APIs (see below for example) across the application. </p>
                                    <img class="img-fluid" src="images/queue-api.png" alt="alternative">
                                    <p> With some effort, it finally runs as smooth as silk without worrying anything that could possibly block the main UI Thread. </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="playerView" class="tabs ex-basic-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Draggable <code>PlayerView</code> with flexibility</h3>
                        <div class="row">
                            <div class="col-lg-4">
                                <img class="img-fluid" src="images/playerView-demo.gif" alt="alternative">
                            </div>
                            <div class="col-lg-8">
                                <div class="text-container">
                                    <br><br>
                                    <p>One thing we noticed during our HCI design phase was that users are generally prefer the a video application that does not let video occupy the whole screen for the majority of time, especially for a learning application like our project.</p>
                                    <p>Therefore, we attempted to implement a draggable <code>PlayerView</code> with intuitive gestures to minimise/maximise it. </p>
                                    <p>The main challenge here is that you would not be able to use a standard approach like a <code>UIViewController</code> to handle this type of view, simply because presenting a <code>UIViewController</code> inside another one would cause not only significant performance issues, but also not being able to implement dragging <code>UIViewController</code> around.
                                    <p>We decided to think out of the box and used a floating <code>NavView</code> based <code>UIView</code> to archive this, as you can see below in the <code>Storyboard</code>. It is not a fully functional <code>UIViewController</code>, but instead a <code>UIView</code> subsequent in the <code>AppScene</code> of the <code>RootViewController</code>.</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <img class="img-fluid" src="images/playerView.png" alt="alternative">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="text-container">
                                    <p>This brought up the issue that we have to control its floating coordinates by ourselves on the screen, yet to consider so many variations of screen sizes on the <code>iOS</code> and <code>iPadOS</code> platforms. </p>
                                    <p>To tackle this difficulty, we started with the <code>origin</code>(centre point) of the <code>View</code>. From the image below, we utilised know constants of <code>UIScreen.main.bounds</code>, i.e the size of the displaying screen to figure out the origin of <code>playerView</code> in its 3 states.</p>
                                </div>
                                <img class="img-fluid" src="images/playerViewOrigin.png" alt="alternative">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="text-container">
                                    <p>The animation and gesture recognition of the <code>UIView</code> is a subsequent problem to solve. Otherwise the <code>UIView</code> would just jump around and very likely uncontrollable. </p>
                                    <p>Likewise, we would have to figure out the exact coordinates to make it look and feel smooth when dragging around. We put forward a fast <code>CGPoint</code> function <code>positionDuringSwipe()</code> to calculate its behaviour live with no pre-made animations. See below for implementation details.</p>
                                    <img class="img-fluid" src="images/playerView-animate.png" alt="alternative">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="text-container">
                                    <p>Rather than rendering pre-made animations, or fixing the coordinates to a certain point, we took the most difficult approach which is calculate everything by hand. Yet retrospectively, we think its definitely worth it as it yields the best results as well as the smoothest user experience. </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="design-principles-patterns" class="tabs ex-basic-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>Design Principles and Patterns</h3>
                        <p></p>
                    </div>
                </div>
            </div>
            <div class="row">

                <!-- Tabs Links -->
                <ul class="nav nav-tabs" id="lenoTabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="nav-tab-1" data-toggle="tab" href="#tab-1" role="tab" aria-controls="tab-1" aria-selected="true"><i class="fas fa-book"></i>Design Principles</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="nav-tab-2" data-toggle="tab" href="#tab-2" role="tab" aria-controls="tab-2" aria-selected="false"><i class="fas fa-wrench"></i>Design Patterns</a>
                    </li>
                </ul>
                <!-- end of tabs links -->

                <!-- Tabs Content-->
                <div class="tab-content">

                    <!-- Tab -->
                    <div class="tab-pane fade show active" id="tab-1" role="tabpanel" aria-labelledby="tab-1">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-10 offset-lg-1">
                                    <div class="text-container">
                                        <div class="row list-unstyled">
                                            <h4><i class="fas fa-square"></i> Single Responsibility Principle (DeMarco, 1979) </h4>
                                            <p class="indent">We have made substantial effort to separate responsibility among multiple modules in our application. As an example, we abstracted the reloading and refreshing logic out of all <code>ViewControllers</code> and put them into an <code>Extension</code> named <code>refresher()</code>.</p>
                                            <p class="indent">Refreshing can be done easily with passing lambda or <code>Closures</code> to the extension without any other code needed.</p>
                                            <p class="indent">We find this principle particularly useful as we can maintain a same set of multi-threading strategy and <code>Queue</code> throughout the code base. For a deeper dive into our multi-threading strategy, see <a href="implementation.html#multi-threading">implementation section</a> for more details.</p>
                                            <img class="img-fluid" src="images/single-responsibility.png"  alt="alternative"/>
                                            <h4><i class="fas fa-square"></i> Liskov's Substitution Principle (Liskov, 1994)</h4>
                                            <p class="indent">We strictly follow the Open Closed Principle and its extension Liskov's Substitution Principle throughout our <code>DataModels</code>. For instance, models like <code>Videos</code> or <code>PDFs</code> are subtypes of <code>Content</code> and can be substituted seamlessly in the code. This allows us to share multiple properties among the <code>DataModels</code> and eliminate redundancy.</p>
                                            <img class="img-fluid" src="images/liskov-sub.png"  alt="alternative"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end of tab-pane -->
                    <!-- end of tab -->

                    <!-- Tab -->
                    <div class="tab-pane fade" id="tab-2" role="tabpanel" aria-labelledby="tab-2">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-10 offset-lg-1">
                                    <div class="text-container">
                                        <div class="row list-unstyled">
                                            <h4><i class="fas fa-square"></i> Prototype Design Pattern (Duell, 1997)</h4>
                                            <p class="indent">Prototype Design Pattern is used in the project on <code>PlayerViewController</code> to ensure single responsibility principle and make different <code>ViewControllers</code> replicas for various Video sessions cleaner. For more information on our <code>playerView</code> implementation, see <a href="implementation.html#playerView">here</a> for details.</p>
                                            <img class="img-fluid" src="images/prototype-design.png"  alt="alternative"/>
                                            <h4><i class="fas fa-square"></i> Adapter Design Pattern (Freeman et al., 2004)</h4>
                                            <p class="indent">Whilst we are developing our application, the backend from our client is transforming from <code>X5GON</code> to <code>X5Learn</code>, such that we are supporting two back-ends at the same time. Therefore, we utilised the Adapter Design Pattern to make sure our <code>MainController</code> have access to the same set of API at the same time.</p>
                                            <img class="img-fluid" src="images/adapter-design.png"  alt="alternative"/>
                                            <h4><i class="fas fa-square"></i> Singleton Design Pattern (Gamma et al., 1994)</h4>
                                            <p class="indent"> To ensure that there is only one hefty <code>MainController</code> available globally, we utilised the singleton design pattern. The controller is available globally and statically, and is forbidden be constructed twice throughout the application's lifecycle.</p>
                                            <img class="img-fluid" src="images/singleton-design.png"  alt="alternative"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end of tab-pane -->
                    <!-- end of tab -->

                </div> <!-- end of tab-content -->
                <!-- end of tabs content -->

            </div> <!-- end of row -->
        </div>
    </div>

    <div id="implementation" class="slider-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="text-container">
                        <h3>Implementation Showcase</h3>
                        <p>Since our project is a mobile application, our implementation is heavily <code>View</code> based. Our team decide to present each view in our application for reference. </p>
                        <br>
                    </div>
                    <!-- Image Slider -->
                    <div class="slider-container">
                        <div class="swiper-container image-slider">
                            <div class="swiper-wrapper">

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/HomeView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/HomeView.png" alt="alternative">
                                        <code>HomeView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/AccountView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/AccountView.png" alt="alternative">
                                        <code>AccountView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/VideoPlayerView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/VideoPlayerView.png" alt="alternative">
                                        <code>PlayerView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/SearchView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/SearchView.png" alt="alternative">
                                        <code>SearchView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/SettingsView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/SettingsView.png" alt="alternative">
                                        <code>SettingsView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/TrendingView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/TrendingView.png" alt="alternative">
                                        <code>TrendingView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                                <!-- Slide -->
                                <div class="swiper-slide">
                                    <a href="images/SubscriptionsView.png" class="popup-link" data-effect="fadeIn">
                                        <img class="img-fluid" src="images/SubscriptionsView.png" alt="alternative">
                                        <code>SubscribeView</code>
                                    </a>
                                </div>
                                <!-- end of slide -->

                            </div> <!-- end of swiper-wrapper -->

                            <!-- Add Arrows -->
                            <div class="swiper-button-next"></div>
                            <div class="swiper-button-prev"></div>
                            <!-- end of add arrows -->

                        </div> <!-- end of swiper-container -->
                    </div> <!-- end of slider-container -->
                    <!-- end of image slider -->

                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of slider-2 -->
    <!-- end of screenshots -->

    <div id="requirements-references" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <h3>References</h3>
                <ul class="list-unstyled li-space-lg indent">
                    <li class="media"> <div class="media-body">Chatbi, N., 2020. Scinfu/Swiftsoup. [online] GitHub. Available at: https://github.com/scinfu/SwiftSoup [Accessed 3 April 2020].</div></li><br>
                    <li class="media"> <div class="media-body">Gessner, J., 2020. Jonasgessner/Jgprogresshud. [online] GitHub. Available at: https://github.com/JonasGessner/JGProgressHUD [Accessed 3 April 2020].</div></li>
                    <li class="media"> <div class="media-body">Realm. 2020. Realm/Jazzy. [online] Available at: https://github.com/realm/jazzy [Accessed 3 April 2020].</div></li>
                    <li class="media"> <div class="media-body">Developer.apple.com. 2020. Xctest | Apple Developer Documentation. [online] Available at: https://developer.apple.com/documentation/xctest [Accessed 3 April 2020].</div></li>
                    <li class="media"> <div class="media-body">Lockwood, N., 2020. Nicklockwood/Swiftformat. [online] Available at: https://github.com/nicklockwood/SwiftFormat [Accessed 3 April 2020].</div></li>
                    <li class="media"> <div class="media-body">Travis-ci.com. 2020. Travis CI - Test And Deploy With Confidence. [online] Available at: https://travis-ci.com/ [Accessed 3 April 2020].</div></li>
                    <li class="media"> <div class="media-body"></div></li>
                </ul>
            </div> <!-- end of text-container-->
        </div>
    </div>

    <div id="footer-placeholder"></div>


    <!-- Scripts -->
    <script src="js/jquery.min.js"></script> <!-- jQuery for Bootstrap's JavaScript plugins -->
    <script src="js/jquery.magnific-popup.js"></script> <!-- Magnific Popup for lightboxes -->
    <script>
        $(document).ready(function() {
            $('.image-link').magnificPopup({type:'image'});
        });
        $(function(){
            $("#nav-placeholder").load("nav.html");
        });
        $(function(){
            $("#footer-placeholder").load("footer.html");
        });
        $('.image-link').magnificPopup({
            type: 'image',
            mainClass: 'mfp-with-zoom', // this class is for CSS animation below
            image: {
                verticalFit: true
            },
            zoom: {
                enabled: true, // By default it's false, so don't forget to enable it
                duration: 300, // duration of the effect, in milliseconds
                easing: 'ease-in-out', // CSS transition easing function
                // The "opener" function should return the element from which popup will be zoomed in
                // and to which popup will be scaled down
                // By defailt it looks for an image tag:
                opener: function(openerElement) {
                    // openerElement is the element on which popup was initialized, in this case its <a> tag
                    // you don't need to add "opener" option if this code matches your needs, it's defailt one.
                    return openerElement.is('img') ? openerElement : openerElement.find('img');
                }
            }
        });
    </script>
    <script src="js/popper.min.js"></script> <!-- Popper tooltip library for Bootstrap -->
    <script src="js/bootstrap.min.js"></script> <!-- Bootstrap framework -->
    <script src="js/jquery.easing.min.js"></script> <!-- jQuery Easing for smooth scrolling between anchors -->
    <script src="js/swiper.min.js"></script> <!-- Swiper for image and text sliders -->
    <script src="js/morphext.min.js"></script> <!-- Morphtext rotating text in the header -->
    <script src="js/validator.min.js"></script> <!-- Validator.js - Bootstrap plugin that validates forms -->
    <script src="js/scripts.js"></script> <!-- Custom scripts -->
</body>

</html>